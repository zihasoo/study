# 빅데이터처리 과제

### 22101200 이병윤

### 1. 메서드에 따른 속도 차이

c++에서 제공하는 비동기 처리 메서드에 따라 속도가 조금씩 달라질까 궁금해 테스트해보았다. 아래 5가지를 비교할 것이다.

- 싱글 스레드 덧셈
- int 배열에 각 스레드 결과 저장 후 합치기
- std::future / std::promise
- std::packaged_task
- std::async

모든 결과는 각 10번씩 실행해 구한 평균값이다.

| thread count | single_sum | multi_sum | future-promise | packaged_task | async    |
|--------------|------------|-----------|----------------|---------------|----------|
| 2            | 7.3887ms   | 3.7769ms  | 3.7216ms       | 3.7061ms      | 3.7268ms |
| 4            | 7.385ms    | 2.3302ms  | 1.9868ms       | 2.2213ms      | 2.3591ms |
| 6            | 7.1774ms   | 1.485ms   | 1.4003ms       | 1.4097ms      | 1.3709ms |
| 8            | 7.1195ms   | 1.1892ms  | 1.1564ms       | 1.1539ms      | 1.1407ms |
| 10           | 6.9764ms   | 1.1927ms  | 1.0107ms       | 1.1076ms      | 1.0297ms |
| 12           | 6.7794ms   | 0.9797ms  | 0.9985ms       | 1.0927ms      | 0.9858ms |
| 14           | 6.9114ms   | 1.2404ms  | 1.2044ms       | 1.2111ms      | 1.3186ms |
| 16           | 6.7569ms   | 1.1323ms  | 1.1768ms       | 1.1235ms      | 1.1929ms |
| 18           | 6.8048ms   | 1.1383ms  | 1.1607ms       | 1.1655ms      | 1.1784ms |
| 20           | 6.6697ms   | 1.1707ms  | 1.1523ms       | 1.127ms       | 1.1395ms |

![graph1.png](graph1.png)

확실히 싱글 스레드보다는 빠르고, 스레드 개수가 2 ~ 10으로 증가함에 따라 속도도 증가하는 것을 확인할 수 있다. 스레드 개수가 10개 이상일때 가장 빠른 모습을 보여준다. i5 cpu를 사용하고 있어서    
사실 첫 번째 방법을 제외하고는 모두 각 결과를 저장하고 합치는 방법이라 어느정도 예상된 결과였다. 그래도 코드가 조금씩 달라서 어느정도 속도 차이가 있지 않을까 싶었지만 거의 같다고 봐도 무방할 것 같다.

### 2. 임계 영역 처리 방식에 따른 속도 차이